<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Core Data Versioning &middot; Shelley100.com
    
  </title>
  <meta name="description" content="Every time I have to do a small (read: very simple) migration in an iOS-project I have to dive into Google to find out how it works. I practically never get ...">
  <meta name="keywords" content="shelley, bangla, bangalee, bengali, bangladesh, bangladeshi, dhaka, bangla politics, philosophy, education, religion, blog, bangla blog">	
  <!-- CSS -->
     <!-- Bootstrap styles -->
    <link href="/shelley100/assets/css/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/shelley100/assets/css/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/shelley100/assets/css/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/shelley100/assets/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
	
  <!--
  <link rel="stylesheet" href="/shelley100/assets/css/poole.css">-->
  <link rel="stylesheet" href="/shelley100/assets/css/syntax.css">
  <link rel="stylesheet" href="/shelley100/css/mains.css"> 	
  <link rel="stylesheet" href="/shelley100/css/social.css"> 	
  <link rel="stylesheet" href="/shelley100/css/css-social2.css">
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/shelley100/assets/images/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/shelley100/assets/images/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Shelley100.com" href="/shelley100/atom.xml">
  <!-- fb -->
<meta property="og:title" content="Core Data Versioning" />
<meta property="og:url" content="/cocoa/2011/11/28/core-data-versioning/" />
<meta property="og:image" content="/shelley100assets/images/socialicon120.png" />
<meta property="og:description" content="&lt;p&gt;Every time I have to do a small (read: very simple) migration in an iOS-project I have to dive into Google to find out how it works. I practically never get to it anymore, but I finally decided to write a post about it on this blog.&lt;/p&gt;

&lt;h3 id=&quot;migrating-what-and-when&quot;&gt;Migrating what and when?&lt;/h3&gt;

&lt;p&gt;I only use migrations and version models when an application is already used in production. Core Data will not automatically update its database when you change something in it. The app will just crash… And I don’t think that’s what the user wants. The app won’t always crash: sometimes the changes just aren’t executed and there will occur a problem when you try to call a method related to the changes.&lt;/p&gt;

&lt;h3 id=&quot;a-new-version&quot;&gt;A new version&lt;/h3&gt;

&lt;p&gt;Go to Editor &amp;gt; Model Version in order to create a new version of your Core Data Model. Choose a name and select the Model you want to use as the starting point, this will be the database you currently use in the production app.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-new-version.png&quot; alt=&quot;A new version&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now that we’ve created a new version we can just apply some changes to it. It’s just a copy of our old xcdatamodel file.&lt;/p&gt;

&lt;p&gt;The last thing we have to do is set this version of the Core Data Model as our default version. In your project navigator select the .xcdatamodeld container in which the 2 versions reside. Open the Utilities pane on the left and select the File Inspector. Here you can change your Current version of your model.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-default-version.png&quot; alt=&quot;Set the default version&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;simple-mapping&quot;&gt;Simple mapping&lt;/h2&gt;

&lt;p&gt;The mapping model is the place where you tell Core Data how to handle model changes between 2 versions. You don’t always need a mapping model, when you add or remove a column/model for example. But when you want to do more complex migrations like renaming a column or filling the added columns with new values, then this is the way to go.&lt;/p&gt;

&lt;p&gt;Add a new “Mapping Model” file to your project, and follow the steps to complete the creation.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-new-mapping-model.png&quot; alt=&quot;Create a mapping model&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this model you can see all the Entity Mappings with the changes between the 2 versions.&lt;/p&gt;

&lt;p&gt;Here is an example on how you rename a field (name to fullName) and connect the data between the 2 Core Data Models:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-mapping.png&quot; alt=&quot;The mapping&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After the migration the field will be renamed, and the data will be preserved.&lt;/p&gt;

&lt;h2 id=&quot;custom-mapping&quot;&gt;Custom mapping&lt;/h2&gt;

&lt;p&gt;When we want to do a bit more advanced mapping, we’ll have to subclass &lt;code&gt;NSEntityMigrationPolicy&lt;/code&gt; in order to get the result we want.&lt;/p&gt;

&lt;p&gt;In the next example we will autofill the newly added field (companyName) with a default value ‘10to1’.&lt;/p&gt;

&lt;p&gt;Create a new file called &lt;code&gt;CustomPhotoMigration&lt;/code&gt; that subclasses from &lt;code&gt;NSEntityMigrationPolicy&lt;/code&gt; and add the following code to the implementation class. You can choose the name of the file, doesn’t really matter. &lt;/p&gt;

&lt;div class=&quot;highlight&quot; style=&quot;width: 720px&quot;&gt;&lt;pre&gt;&lt;code class=&quot;objc&quot;&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;createDestinationInstancesForSourceInstance:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSManagedObject&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance&lt;/span&gt;
                                      &lt;span class=&quot;nl&quot;&gt;entityMapping:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSEntityMapping&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mapping&lt;/span&gt;
                                            &lt;span class=&quot;nl&quot;&gt;manager:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSMigrationManager&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt;
                                              &lt;span class=&quot;nl&quot;&gt;error:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSError&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;NSArray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_properties&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mapping&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attributeMappings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSPropertyMapping&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_property&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_property&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;isEqualToString:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;companyName&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;NSExpression&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_expression&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSExpression&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;expressionForConstantValue:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;10to1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_property&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;setValueExpression:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_expression&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;createDestinationInstancesForSourceInstance:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance&lt;/span&gt; 
                                                &lt;span class=&quot;nl&quot;&gt;entityMapping:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mapping&lt;/span&gt; 
                                                      &lt;span class=&quot;nl&quot;&gt;manager:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt; 
                                                        &lt;span class=&quot;nl&quot;&gt;error:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Once the file is created you’ll have to tell the mapping model to use our custom policy. Go to your &lt;code&gt;.xcmappingmodel&lt;/code&gt; file and click on the entity mapping you would like to customize. In the Mapping Model Inspector pane on the right, just fill in the class name of your custom policy. In our case this will be &lt;code&gt;CustomPhotoMigration&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-custom-policy.png&quot; alt=&quot;The custom mapping policy&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This should auto fill the companyName field on every existing record with “10to1” the next time you run the app.&lt;/p&gt;

&lt;p&gt;For the record: you don’t have to run a script or something like that to perform the migration. Just run your application and it will be executed for you.&lt;/p&gt;

" />

<!-- twitter -->
<meta name="twitter:card" content="summary"/>
<meta name="twitter:publisher" content="http://shelley100.github.io" />
<meta name="twitter:site" content="@akrbd1984" />
<meta name="twitter:creator" content="Rahamatullah Shelley" />
<meta name="twitter:title" content="Core Data Versioning" />
<meta name="twitter:url" content="http://shelley100.github.io" />
<meta name="twitter:description" content="&lt;p&gt;Every time I have to do a small (read: very simple) migration in an iOS-project I have to dive into Google to find out how it works. I practically never get to it anymore, but I finally decided to write a post about it on this blog.&lt;/p&gt;

&lt;h3 id=&quot;migrating-what-and-when&quot;&gt;Migrating what and when?&lt;/h3&gt;

&lt;p&gt;I only use migrations and version models when an application is already used in production. Core Data will not automatically update its database when you change something in it. The app will just crash… And I don’t think that’s what the user wants. The app won’t always crash: sometimes the changes just aren’t executed and there will occur a problem when you try to call a method related to the changes.&lt;/p&gt;

&lt;h3 id=&quot;a-new-version&quot;&gt;A new version&lt;/h3&gt;

&lt;p&gt;Go to Editor &amp;gt; Model Version in order to create a new version of your Core Data Model. Choose a name and select the Model you want to use as the starting point, this will be the database you currently use in the production app.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-new-version.png&quot; alt=&quot;A new version&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now that we’ve created a new version we can just apply some changes to it. It’s just a copy of our old xcdatamodel file.&lt;/p&gt;

&lt;p&gt;The last thing we have to do is set this version of the Core Data Model as our default version. In your project navigator select the .xcdatamodeld container in which the 2 versions reside. Open the Utilities pane on the left and select the File Inspector. Here you can change your Current version of your model.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-default-version.png&quot; alt=&quot;Set the default version&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;simple-mapping&quot;&gt;Simple mapping&lt;/h2&gt;

&lt;p&gt;The mapping model is the place where you tell Core Data how to handle model changes between 2 versions. You don’t always need a mapping model, when you add or remove a column/model for example. But when you want to do more complex migrations like renaming a column or filling the added columns with new values, then this is the way to go.&lt;/p&gt;

&lt;p&gt;Add a new “Mapping Model” file to your project, and follow the steps to complete the creation.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-new-mapping-model.png&quot; alt=&quot;Create a mapping model&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this model you can see all the Entity Mappings with the changes between the 2 versions.&lt;/p&gt;

&lt;p&gt;Here is an example on how you rename a field (name to fullName) and connect the data between the 2 Core Data Models:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-mapping.png&quot; alt=&quot;The mapping&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After the migration the field will be renamed, and the data will be preserved.&lt;/p&gt;

&lt;h2 id=&quot;custom-mapping&quot;&gt;Custom mapping&lt;/h2&gt;

&lt;p&gt;When we want to do a bit more advanced mapping, we’ll have to subclass &lt;code&gt;NSEntityMigrationPolicy&lt;/code&gt; in order to get the result we want.&lt;/p&gt;

&lt;p&gt;In the next example we will autofill the newly added field (companyName) with a default value ‘10to1’.&lt;/p&gt;

&lt;p&gt;Create a new file called &lt;code&gt;CustomPhotoMigration&lt;/code&gt; that subclasses from &lt;code&gt;NSEntityMigrationPolicy&lt;/code&gt; and add the following code to the implementation class. You can choose the name of the file, doesn’t really matter. &lt;/p&gt;

&lt;div class=&quot;highlight&quot; style=&quot;width: 720px&quot;&gt;&lt;pre&gt;&lt;code class=&quot;objc&quot;&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;createDestinationInstancesForSourceInstance:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSManagedObject&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance&lt;/span&gt;
                                      &lt;span class=&quot;nl&quot;&gt;entityMapping:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSEntityMapping&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mapping&lt;/span&gt;
                                            &lt;span class=&quot;nl&quot;&gt;manager:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSMigrationManager&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt;
                                              &lt;span class=&quot;nl&quot;&gt;error:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSError&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;NSArray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_properties&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mapping&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attributeMappings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSPropertyMapping&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_property&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_property&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;isEqualToString:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;companyName&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;NSExpression&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_expression&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSExpression&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;expressionForConstantValue:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;10to1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_property&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;setValueExpression:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_expression&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;createDestinationInstancesForSourceInstance:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance&lt;/span&gt; 
                                                &lt;span class=&quot;nl&quot;&gt;entityMapping:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mapping&lt;/span&gt; 
                                                      &lt;span class=&quot;nl&quot;&gt;manager:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt; 
                                                        &lt;span class=&quot;nl&quot;&gt;error:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Once the file is created you’ll have to tell the mapping model to use our custom policy. Go to your &lt;code&gt;.xcmappingmodel&lt;/code&gt; file and click on the entity mapping you would like to customize. In the Mapping Model Inspector pane on the right, just fill in the class name of your custom policy. In our case this will be &lt;code&gt;CustomPhotoMigration&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://blog.10to1.be/img/core-data-versioning-custom-policy.png&quot; alt=&quot;The custom mapping policy&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This should auto fill the companyName field on every existing record with “10to1” the next time you run the app.&lt;/p&gt;

&lt;p&gt;For the record: you don’t have to run a script or something like that to perform the migration. Just run your application and it will be executed for you.&lt;/p&gt;

" />
<meta name="twitter:image" content="/shelley100assets/images/socialicon120.png" />
<meta name="twitter:account_id" content="66764321"/>

<!-- Google+ -->
<meta itemprop="name" content="18 Meta Tags Every Webpage Should Have in 2013"/>
<meta itemprop="description" content="The definitive guide to Search and Social Meta Tags you should be using in 2013. "/>
<meta itemprop="audience" content="Marketers"/>
		<meta itemprop="image" content="http://www.iacquire.com/wp-content/uploads/2013/02/8-29-2013-5-29-14-PM.png"/>
				<meta itemprop="alternativeHeadline" content="18 Meta Tags For 2013"/>

   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>


  <body>
<!--
  
<script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : 'your-app-id',
          xfbml      : true,
          version    : 'v2.3'
        });
      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    </script>

 <script>!function(d,s,id)
{var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
if(!d.getElementById(id))
{	js=d.createElement(s);
	js.id=id;
	js.src=p+'://platform.twitter.com/widgets.js';
	fjs.parentNode.insertBefore(js,fjs);
}
}(document, 'script', 'twitter-wjs');</script>

  
<script src="https://apis.google.com/js/platform.js" async defer></script>

	-->	
		<div class="container-fluid">  <!-- #1 container -->
			<div class="row-fluid">
				<nav class="navbar navbar-inverse">
					<div class="container-fluid">
						<div class="navbar-header">
							<a class="navbar-brand" href="/shelley100/" title="Home">Shelley100.com</a>
							  <small>Shelley's Views and Thoughts</small>
						</div>  <!-- navbar-header ends -->
					
						<ul class="nav navbar-nav">
							
									&nbsp;&nbsp;&nbsp;
									<li><a href="/shelley100/about">About</a></li>
							  
									&nbsp;&nbsp;&nbsp;
									<li><a href="/shelley100/archive">Archive</a></li>
							  
									&nbsp;&nbsp;&nbsp;
									<li><a href="/shelley100/categories">Categories</a></li>
							  
									&nbsp;&nbsp;&nbsp;
									<li><a href="/shelley100/tags">Tags</a></li>
							  
									&nbsp;&nbsp;&nbsp;
									<li><a href="/shelley100/atom.xml">Feed</a></li>
							  
									&nbsp;&nbsp;&nbsp;
									<li><a href="/shelley100/advertisement">Advertisement</a></li>
							  
							
						</ul>
					</div> <!-- second container-fluid ends -->
 
				</nav>
			</div>  <!-- first row-fluid ends -->
		</div> <!-- #1 container ends here -->
		
		
		
		
		<div class="container-fluid">  <!-- #2 container starts here-->
			<div class="row-fluid  no-gutters">
								<!-- for banner, slot value not required -->
				
				
					
					
				
				
						
				
								
				<div class="col-md-3" style="background-color: cyan;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-Ban-1.png' class='cover-image fix-height' /></a></div><div class="col-md-3" style="background-color: cyan;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-Ban-2.png' class='cover-image fix-height' /></a></div><div class="col-md-3" style="background-color: cyan;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-Ban-3.png' class='cover-image fix-height' /></a></div><div class="col-md-3" style="background-color: cyan;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-Ban-4.png' class='cover-image fix-height' /></a></div>

				
			</div>	<!-- row-fluid ends -->
		</div> <!-- #2 container ends here -->
    
    
		<div class="container-fluid">  <!-- #3 container for banner image starts here -->
			<div class="row-fluid" >
				<div class="col-md-12" style="background-color: cyan; padding-left: 0px; padding-right: 0px;">
					
					<img src="/shelley100/assets/images/banner-thin.gif" class="cover-image" />
					
				</div>
			</div>
		</div> <!-- #3 container ends here -->
				
    <div class="container-fluid">  <!-- #4 container for second nav starts here -->
		<div class="row-fluid" >
			<div class="col-md-12 nav-bar">
				<h4 style="margin-top: 10px">
					<!--
					<a href="/shelley100" title="Home">Shelley100.com</a>
					<small>Shelley's Views and Thoughts</small> -->
			  
					 <a href="/shelley100/" title="Home">Home</a>
			 
			  
					  
							&nbsp;&nbsp;&nbsp;
							<a href="/shelley100/about">About</a>
					  
							&nbsp;&nbsp;&nbsp;
							<a href="/shelley100/archive">Archive</a>
					  
							&nbsp;&nbsp;&nbsp;
							<a href="/shelley100/categories">Categories</a>
					  
							&nbsp;&nbsp;&nbsp;
							<a href="/shelley100/tags">Tags</a>
					  
							&nbsp;&nbsp;&nbsp;
							<a href="/shelley100/atom.xml">Feed</a>
					  
							&nbsp;&nbsp;&nbsp;
							<a href="/shelley100/advertisement">Advertisement</a>
					  
				</h3>
			</div>	
		</div>   
    </div> <!-- #4 container ends here -->
    
    <div class="container-fluid">
    <div class="row-fluid">
    
   
    <div class="col-sm-3" id="col1" style="background-color: #E3E4E5;" >
    <!--
    <div class="sidebar leftbar">-->
     
	 
	 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-LHB-1.png' style=height:90px class='cover-image' /></a></div>

     
     
<div class="sidebar-sec2">
	<h3 class="sidebar-sec-header"><u><a style="color: red" href="/shelley100/tags">Tags</a></u></h3>
	<ul class="sidebar-sec-items tag-items">
		<span class="site-tag">
			&nbsp;|&nbsp;
		
			
			
    <a href="/shelley100/tag-dir/bangladesh"
        style="font-size: 94%">
            Bangladesh (1)
    </a>&nbsp;|&nbsp;
</span>
		
			
			
    <a href="/shelley100/tag-dir/any"
        style="font-size: 94%">
            any (1)
    </a>&nbsp;|&nbsp;
</span>
		
			
			
    <a href="/shelley100/tag-dir/country"
        style="font-size: 102%">
            country (3)
    </a>&nbsp;|&nbsp;
</span>
		 
	</ul>
</div>

     
     
	 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-LHB-2.png' style=height:90px class='cover-image' /></a></div>

     
     
     		





<h3 class="sidebar-sec-header"><u><a style="color: red;" href="/shelley100/archive">Archive</a></u></h3>



  <h4 ><strong><a style="color: red;" href="/shelley100/yearly-archive/2014">2014</a></strong></h4>
  
  <table class="table table-bordered">
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2014/10">Oct-2014&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2014/08">Aug-2014&nbsp;(1)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2014/07">Jul-2014&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2014/05">May-2014&nbsp;(3)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2014/01">Jan-2014&nbsp;(1)</a>
    
		</td>
		
    		
    
  
  </table>

  <h4 ><strong><a style="color: red;" href="/shelley100/yearly-archive/2013">2013</a></strong></h4>
  
  <table class="table table-bordered">
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2013/03">Mar-2013&nbsp;(2)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2013/01">Jan-2013&nbsp;(1)</a>
    
		</td></tr>
		
			
    
  
  </table>

  <h4 ><strong><a style="color: red;" href="/shelley100/yearly-archive/2012">2012</a></strong></h4>
  
  <table class="table table-bordered">
  
 
	
			
	
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2012/12">Dec-2012&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2012/09">Sep-2012&nbsp;(3)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2012/08">Aug-2012&nbsp;(2)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2012/07">Jul-2012&nbsp;(1)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2012/06">Jun-2012&nbsp;(2)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2012/05">May-2012&nbsp;(2)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2012/04">Apr-2012&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2012/03">Mar-2012&nbsp;(7)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2012/02">Feb-2012&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2012/01">Jan-2012&nbsp;(4)</a>
    
		</td></tr>
		
			
    
  
  </table>

  <h4 ><strong><a style="color: red;" href="/shelley100/yearly-archive/2011">2011</a></strong></h4>
  
  <table class="table table-bordered">
  
 
	
			
	
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2011/12">Dec-2011&nbsp;(2)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2011/11">Nov-2011&nbsp;(4)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2011/10">Oct-2011&nbsp;(5)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2011/09">Sep-2011&nbsp;(4)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2011/08">Aug-2011&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2011/07">Jul-2011&nbsp;(1)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2011/05">May-2011&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2011/04">Apr-2011&nbsp;(1)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2011/03">Mar-2011&nbsp;(3)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2011/02">Feb-2011&nbsp;(3)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2011/01">Jan-2011&nbsp;(3)</a>
    
		</td>
		
    		
    
  
  </table>

  <h4 ><strong><a style="color: red;" href="/shelley100/yearly-archive/2010">2010</a></strong></h4>
  
  <table class="table table-bordered">
  
 
	
			
	
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2010/12">Dec-2010&nbsp;(2)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2010/10">Oct-2010&nbsp;(2)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2010/08">Aug-2010&nbsp;(4)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2010/07">Jul-2010&nbsp;(1)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2010/06">Jun-2010&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2010/04">Apr-2010&nbsp;(3)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2010/03">Mar-2010&nbsp;(1)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2010/02">Feb-2010&nbsp;(3)</a>
    
		</td></tr>
		
			
    
  
  </table>

  <h4 ><strong><a style="color: red;" href="/shelley100/yearly-archive/2009">2009</a></strong></h4>
  
  <table class="table table-bordered">
  
 
	
			
	
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2009/12">Dec-2009&nbsp;(2)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2009/11">Nov-2009&nbsp;(2)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2009/10">Oct-2009&nbsp;(3)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2009/09">Sep-2009&nbsp;(2)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2009/08">Aug-2009&nbsp;(3)</a>
    
		</td>
		
    		
    
  
 
	
			
		
	
		<td>
			
    
    <a href="/shelley100/monthly-archive/2009/06">Jun-2009&nbsp;(5)</a>
    
		</td></tr>
		
			
    
  
 
	
			
		
	
		<tr><td>
    		
    
    <a href="/shelley100/monthly-archive/2009/05">May-2009&nbsp;(1)</a>
    
		</td>
		
    		
    
  
  </table>


     
     
	 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-LHB-3.png' style=height:90px class='cover-image' /></a></div>

	 
	 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-LHB-4.png' style=height:90px class='cover-image' /></a></div>

     
     </div>
    <div class="col-sm-6" id="col2" style="background-color: lightgray;">  
    <!--
    
    <div class="container content">-->
      <!--
      <header class="masthead">
        
        <h3 class="masthead-title">
          <a href="/shelley100" title="Home">Shelley100.com</a>
          <small>Shelley's Views and Thoughts</small>
          
          
          
				&nbsp;&nbsp;&nbsp;
				<small><a href="about">About</a></small>
		  
				&nbsp;&nbsp;&nbsp;
				<small><a href="archive">Archive</a></small>
		  
				&nbsp;&nbsp;&nbsp;
				<small><a href="categories">Categories</a></small>
		  
				&nbsp;&nbsp;&nbsp;
				<small><a href="tags">Tags</a></small>
		  
				&nbsp;&nbsp;&nbsp;
				<small><a href="atom.xml">Feed</a></small>
		  
				&nbsp;&nbsp;&nbsp;
				<small><a href="advertisement">Advertisement</a></small>
		  
        </h3>
      </header> -->

      <main>
        <article class="post">
  
  <h1 class="post-title">Core Data Versioning</h1>
  <p class="author-name">by <strong>Rahamatullah Shelley</strong>&nbsp;<small>(Published:
  <time datetime="2011-11-28T00:00:00+06:00" class="page-date">28 Nov 2011</time>)</small></p>
  <p>
	  	


	
	

	
		
		
		<span><strong><u>Category:</u></strong>&nbsp;
	
	
	
				
		
				
				<span><a href="/shelley100/cat-dir/cocoa">cocoa</a></span>
			
		
			
			
  </span>

	  	


	
	


	
		
		<span><strong><u>Tag:</u></strong>&nbsp;
	
		
	
			<span>none</span>	
		
			
		
  </span>

  </p>  
  
  <br />
  <p>Every time I have to do a small (read: very simple) migration in an iOS-project I have to dive into Google to find out how it works. I practically never get to it anymore, but I finally decided to write a post about it on this blog.</p>

<h3 id="migrating-what-and-when">Migrating what and when?</h3>

<p>I only use migrations and version models when an application is already used in production. Core Data will not automatically update its database when you change something in it. The app will just crash… And I don’t think that’s what the user wants. The app won’t always crash: sometimes the changes just aren’t executed and there will occur a problem when you try to call a method related to the changes.</p>

<h3 id="a-new-version">A new version</h3>

<p>Go to Editor &gt; Model Version in order to create a new version of your Core Data Model. Choose a name and select the Model you want to use as the starting point, this will be the database you currently use in the production app.</p>

<p><img src="http://blog.10to1.be/img/core-data-versioning-new-version.png" alt="A new version" /></p>

<p>Now that we’ve created a new version we can just apply some changes to it. It’s just a copy of our old xcdatamodel file.</p>

<p>The last thing we have to do is set this version of the Core Data Model as our default version. In your project navigator select the .xcdatamodeld container in which the 2 versions reside. Open the Utilities pane on the left and select the File Inspector. Here you can change your Current version of your model.</p>

<p><img src="http://blog.10to1.be/img/core-data-versioning-default-version.png" alt="Set the default version" /></p>

<h2 id="simple-mapping">Simple mapping</h2>

<p>The mapping model is the place where you tell Core Data how to handle model changes between 2 versions. You don’t always need a mapping model, when you add or remove a column/model for example. But when you want to do more complex migrations like renaming a column or filling the added columns with new values, then this is the way to go.</p>

<p>Add a new “Mapping Model” file to your project, and follow the steps to complete the creation.</p>

<p><img src="http://blog.10to1.be/img/core-data-versioning-new-mapping-model.png" alt="Create a mapping model" /></p>

<p>In this model you can see all the Entity Mappings with the changes between the 2 versions.</p>

<p>Here is an example on how you rename a field (name to fullName) and connect the data between the 2 Core Data Models:</p>

<p><img src="http://blog.10to1.be/img/core-data-versioning-mapping.png" alt="The mapping" /></p>

<p>After the migration the field will be renamed, and the data will be preserved.</p>

<h2 id="custom-mapping">Custom mapping</h2>

<p>When we want to do a bit more advanced mapping, we’ll have to subclass <code>NSEntityMigrationPolicy</code> in order to get the result we want.</p>

<p>In the next example we will autofill the newly added field (companyName) with a default value ‘10to1’.</p>

<p>Create a new file called <code>CustomPhotoMigration</code> that subclasses from <code>NSEntityMigrationPolicy</code> and add the following code to the implementation class. You can choose the name of the file, doesn’t really matter. </p>

<div class="highlight" style="width: 720px"><pre><code class="objc"><span class="o">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nl">createDestinationInstancesForSourceInstance:</span><span class="p">(</span><span class="n">NSManagedObject</span> <span class="o">*</span><span class="p">)</span><span class="n">instance</span>
                                      <span class="nl">entityMapping:</span><span class="p">(</span><span class="n">NSEntityMapping</span> <span class="o">*</span><span class="p">)</span><span class="n">mapping</span>
                                            <span class="nl">manager:</span><span class="p">(</span><span class="n">NSMigrationManager</span> <span class="o">*</span><span class="p">)</span><span class="n">manager</span>
                                              <span class="nl">error:</span><span class="p">(</span><span class="n">NSError</span> <span class="o">**</span><span class="p">)</span><span class="n">error</span> <span class="p">{</span>
    <span class="n">NSArray</span> <span class="o">*</span><span class="n">_properties</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="n">attributeMappings</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">NSPropertyMapping</span> <span class="o">*</span><span class="n">_property</span> <span class="k">in</span> <span class="n">_properties</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">([[</span><span class="n">_property</span> <span class="n">name</span><span class="p">]</span> <span class="nl">isEqualToString:</span><span class="s">@"companyName"</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">NSExpression</span> <span class="o">*</span><span class="n">_expression</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSExpression</span> <span class="nl">expressionForConstantValue:</span><span class="s">@"10to1"</span><span class="p">];</span>
            <span class="p">[</span><span class="n">_property</span> <span class="nl">setValueExpression:</span><span class="n">_expression</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="p">[</span><span class="n">super</span> <span class="nl">createDestinationInstancesForSourceInstance:</span><span class="n">instance</span> 
                                                <span class="nl">entityMapping:</span><span class="n">mapping</span> 
                                                      <span class="nl">manager:</span><span class="n">manager</span> 
                                                        <span class="nl">error:</span><span class="n">error</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Once the file is created you’ll have to tell the mapping model to use our custom policy. Go to your <code>.xcmappingmodel</code> file and click on the entity mapping you would like to customize. In the Mapping Model Inspector pane on the right, just fill in the class name of your custom policy. In our case this will be <code>CustomPhotoMigration</code>.</p>

<p><img src="http://blog.10to1.be/img/core-data-versioning-custom-policy.png" alt="The custom mapping policy" /></p>

<p>This should auto fill the companyName field on every existing record with “10to1” the next time you run the app.</p>

<p>For the record: you don’t have to run a script or something like that to perform the migration. Just run your application and it will be executed for you.</p>

  
</article>
<hr />
<section class="pager">
  <ul>
    
    <li class="previous"><a href="/shelley100/team/2011/11/15/team-bob/" title="10to1 stelt voor... Bob!"><span class="glyphicon glyphicon-arrow-left"></span> Previous</a></li>
    
    
    <li class="next"><a href="/shelley100/portfolio/2011/12/12/portfolio-leukedeals/" title="Leuke Deals">Next <span class="glyphicon glyphicon-arrow-right"></span></a></li>
    
  </ul>
</section>

<hr />
<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/shelley100/general/2014/10/24/we-ve-moved/">
            We've moved
            <small><time datetime="2014-10-24T00:00:00+06:00">24 Oct 2014</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/shelley100/portfolio/2014/08/26/wolvenberg-mobile-sales-app/">
            Wolvenberg mobile sales app
            <small><time datetime="2014-08-26T00:00:00+06:00">26 Aug 2014</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/shelley100/general/2014/07/29/epi-use/">
            10to1 acquired by international software developer EPI-USE
            <small><time datetime="2014-07-29T00:00:00+06:00">29 Jul 2014</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>
<hr />
<h3>Share this Article:</h3>





    
    

<hr />

<h4>Share This Post:</h4>
<div class="social-share"> 
    <a class="social-share-element social-twitter popup" href="https://twitter.com/intent/tweet?text=Core Data Versioning&url=http://shelley100.github.io/cocoa/2011/11/28/core-data-versioning/&via=akrbd1984&hashtags=" title="Share this post on Twitter"></a>
    <a class="social-share-element social-facebook popup" href="https://www.facebook.com/sharer/sharer.php?t=Core Data Versioning&u=http://shelley100.github.io/cocoa/2011/11/28/core-data-versioning/" title="Share this post on Facebook"></a>
    <a class="social-share-element social-google popup" href="https://plus.google.com/share?url=http://shelley100.github.io/cocoa/2011/11/28/core-data-versioning/" title="Share this post on Google Plus"></a>
    <a class="social-share-element social-linkedin popup" href="http://www.linkedin.com/shareArticle?mini=true&title=Core Data Versioning&url=http://shelley100.github.io/cocoa/2011/11/28/core-data-versioning/&source=http%3a%2f%2fzhangwenli.com" title="Share this post on LinkedIn"></a>

</div>

<script>
  $('.popup').click(function(event) {
    var width  = 575,
        height = 400,
        left   = ($(window).width()  - width)  / 2,
        top    = ($(window).height() - height) / 2,
        url    = this.href,
        opts   = 'status=1' +
                 ',width='  + width  +
                 ',height=' + height +
                 ',top='    + top    +
                 ',left='   + left;
    
    window.open(url, 'twitter', opts);
 
    return false;
  });
</script>

<hr />
<!--
<div id="disqus_thread"></div>

<script type="text/javascript">

  var disqus_developer = 1;

var disqus_shortname ='freshman21';
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

-->

      </main>
     </div>
     
    <div class="col-sm-3" id="col3" style="background-color:#E3E4E5" >
    <!-- <div class="sidebar rightbar"> -->
		 
		 
		 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-RHB-1.png' style=height:90px class='cover-image' /></a></div>

		 
		 <div id="fb-root" style="margin-top:20px;"></div>

<ul class="post-share ulno mob">

<!-- Twitter -->
<a class="btn btn-primary btn-md" href="https://twitter.com/akrbd1984" style="padding-right:50px"><img src="/shelley100assets/images/Twitter_logo_white.png" width='20px' height='20px' />&nbsp;&nbsp;Follow @akrbd1984</a></li>
//<a href="https://twitter.com/TvEkattor"><img src="images/twitter.png " style="padding-right:50px"></a>
<!-- Google+ -->
<li class="gp"><div class="g-follow" data-href="https://plus.google.com/akrbd1984" data-height="24" data-annotation="none" data-rel="author"></div>

<!-- Facebook -->
<li class="fb"><div class="fb-like" data-href="http://shelley100.github.io" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div></li>

</ul>

		 
		 
		 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-RHB-2.png' style=height:90px class='cover-image' /></a></div>

		 
		 

<div class="sidebar-sec2">
	<!-- <p class="h4 sidebar-sec-header2"><u><strong>Categories</strong></u></p> -->
	<h3 class="sidebar-sec-header"><u><a style="color: red" href="/shelley100/categories">Categories</a></u></h3>
	<ul class="sidebar-sec-items">
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/cocoa">
					cocoa
					<span class="badge">
						10
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/general">
					general
					<span class="badge">
						44
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/portfolio">
					portfolio
					<span class="badge">
						16
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/press-releases">
					press-releases
					<span class="badge">
						1
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/rails">
					rails
					<span class="badge">
						17
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/ruby">
					ruby
					<span class="badge">
						4
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/team">
					team
					<span class="badge">
						5
					</span>
				</a>
			</li>
		 
	</ul>
</div>

		 
		 
		 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-RHB-3.png' style=height:90px class='cover-image' /></a></div>

		 
		 <div class="sidebar-sec2">
	<!-- <p class="h4 sidebar-sec-header"><strong><u>Recent Posts</u></strong></p> -->
	<h3 class="sidebar-sec-header"><u>Recent Posts</u></h3>
	<ul class="sidebar-sec-items" >
    
         
        <li class="sidebar-sec-item">
            24 Oct 2014 &raquo; <a href="/shelley100/general/2014/10/24/we-ve-moved/">We've moved</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            26 Aug 2014 &raquo; <a href="/shelley100/portfolio/2014/08/26/wolvenberg-mobile-sales-app/">Wolvenberg mobile sales app</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            29 Jul 2014 &raquo; <a href="/shelley100/general/2014/07/29/epi-use/">10to1 acquired by international software developer EPI-USE</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            26 May 2014 &raquo; <a href="/shelley100/general/2014/05/26/android-developer/">Job – Getalenteerde Android developer (m/v)</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            22 May 2014 &raquo; <a href="/shelley100/general/2014/05/22/ror-developer/">Job – Enthousiaste Ruby on Rails developer (m/v)</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            21 May 2014 &raquo; <a href="/shelley100/general/2014/05/21/ios-developer/">Job – Gepassioneerde iOS developer (m/v)</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            05 Jan 2014 &raquo; <a href="/shelley100/general/2014/01/05/hi-phone/">Hi Phone</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            27 Mar 2013 &raquo; <a href="/shelley100/general/2013/03/27/business-developer-gezocht/">Business developer gezocht</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            12 Mar 2013 &raquo; <a href="/shelley100/general/2013/03/12/tech-talks/">Tech Talks</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            22 Jan 2013 &raquo; <a href="/shelley100/general/2013/01/22/iom/">Iom</a>
        </li>
     
	</ul>
</div>

		 
		 
		 
				
					
					
				
				
						
				
								
				<div class="sidebar-sec" style="background-color: green;"><a href='/shelley100/advertisement'><img src='/shelley100/assets/ad-images/Post-RHB-4.png' style=height:90px class='cover-image' /></a></div>

		 
		 
		
     </div>
    
     </div></div>
     
     
      <footer class="footer">
      <div class="container-fluid" style="background-color: black;">  <!-- #container for footer -->
		<div class="row-fluid" >
			<div class="col-md-2" id="col-footer-1">
				<h3><u>Site Links</u></h3>
<ul>
	<li><a href="/shelley100/" title="Home">Home</a></li>
	
	  
			
			<li><a href="/shelley100/about">About</a></li>
	  
			
			<li><a href="/shelley100/archive">Archive</a></li>
	  
			
			<li><a href="/shelley100/categories">Categories</a></li>
	  
			
			<li><a href="/shelley100/tags">Tags</a></li>
	  
			
			<li><a href="/shelley100/atom.xml">Feed</a></li>
	  
			
			<li><a href="/shelley100/advertisement">Advertisement</a></li>
	  
</ul>

			</div>	
			
			<div class="col-md-2" id="col-footer-1">
				

<div class="sidebar-sec2">
	<!-- <p class="h4 sidebar-sec-header2"><u><strong>Categories</strong></u></p> -->
	<h3 class="sidebar-sec-header"><u><a style="color: red" href="/shelley100/categories">Categories</a></u></h3>
	<ul class="sidebar-sec-items">
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/cocoa">
					cocoa
					<span class="badge">
						10
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/general">
					general
					<span class="badge">
						44
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/portfolio">
					portfolio
					<span class="badge">
						16
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/press-releases">
					press-releases
					<span class="badge">
						1
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/rails">
					rails
					<span class="badge">
						17
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/ruby">
					ruby
					<span class="badge">
						4
					</span>
				</a>
			</li>
		
			
			<li class="sidebar-sec-item">
				<a href="/shelley100/cat-dir/team">
					team
					<span class="badge">
						5
					</span>
				</a>
			</li>
		 
	</ul>
</div>

			</div>	
			
			<div class="col-md-3" id="col-footer-2">
				<div class="sidebar-sec2">
	<!-- <p class="h4 sidebar-sec-header"><strong><u>Recent Posts</u></strong></p> -->
	<h3 class="sidebar-sec-header"><u>Recent Posts</u></h3>
	<ul class="sidebar-sec-items" >
    
         
        <li class="sidebar-sec-item">
            24 Oct 2014 &raquo; <a href="/shelley100/general/2014/10/24/we-ve-moved/">We've moved</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            26 Aug 2014 &raquo; <a href="/shelley100/portfolio/2014/08/26/wolvenberg-mobile-sales-app/">Wolvenberg mobile sales app</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            29 Jul 2014 &raquo; <a href="/shelley100/general/2014/07/29/epi-use/">10to1 acquired by international software developer EPI-USE</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            26 May 2014 &raquo; <a href="/shelley100/general/2014/05/26/android-developer/">Job – Getalenteerde Android developer (m/v)</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            22 May 2014 &raquo; <a href="/shelley100/general/2014/05/22/ror-developer/">Job – Enthousiaste Ruby on Rails developer (m/v)</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            21 May 2014 &raquo; <a href="/shelley100/general/2014/05/21/ios-developer/">Job – Gepassioneerde iOS developer (m/v)</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            05 Jan 2014 &raquo; <a href="/shelley100/general/2014/01/05/hi-phone/">Hi Phone</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            27 Mar 2013 &raquo; <a href="/shelley100/general/2013/03/27/business-developer-gezocht/">Business developer gezocht</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            12 Mar 2013 &raquo; <a href="/shelley100/general/2013/03/12/tech-talks/">Tech Talks</a>
        </li>
    
         
        <li class="sidebar-sec-item">
            22 Jan 2013 &raquo; <a href="/shelley100/general/2013/01/22/iom/">Iom</a>
        </li>
     
	</ul>
</div>

			</div>
			<div class="col-md-3" id="col-footer-3">
						





<h3 class="sidebar-sec-header"><u><a style="color: red" href="/shelley100/archive">Archive</a></u></h3>


  <h4 ><strong><a href="/shelley100/yearly-archive/2014">2014</a></strong></h4>
  <ul>
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2014/10">Oct-2014&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2014/08">Aug-2014&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2014/07">Jul-2014&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2014/05">May-2014&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2014/01">Jan-2014&nbsp;(1)</a></li>
    
    
  
  </ul>

  <h4 ><strong><a href="/shelley100/yearly-archive/2013">2013</a></strong></h4>
  <ul>
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2013/03">Mar-2013&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2013/01">Jan-2013&nbsp;(1)</a></li>
    
    
  
  </ul>

  <h4 ><strong><a href="/shelley100/yearly-archive/2012">2012</a></strong></h4>
  <ul>
  
 
	
			
	

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/12">Dec-2012&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/09">Sep-2012&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/08">Aug-2012&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/07">Jul-2012&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/06">Jun-2012&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/05">May-2012&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/04">Apr-2012&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/03">Mar-2012&nbsp;(7)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/02">Feb-2012&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2012/01">Jan-2012&nbsp;(4)</a></li>
    
    
  
  </ul>

  <h4 ><strong><a href="/shelley100/yearly-archive/2011">2011</a></strong></h4>
  <ul>
  
 
	
			
	

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/12">Dec-2011&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/11">Nov-2011&nbsp;(4)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/10">Oct-2011&nbsp;(5)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/09">Sep-2011&nbsp;(4)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/08">Aug-2011&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/07">Jul-2011&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/05">May-2011&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/04">Apr-2011&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/03">Mar-2011&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/02">Feb-2011&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2011/01">Jan-2011&nbsp;(3)</a></li>
    
    
  
  </ul>

  <h4 ><strong><a href="/shelley100/yearly-archive/2010">2010</a></strong></h4>
  <ul>
  
 
	
			
	

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/12">Dec-2010&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/10">Oct-2010&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/08">Aug-2010&nbsp;(4)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/07">Jul-2010&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/06">Jun-2010&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/04">Apr-2010&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/03">Mar-2010&nbsp;(1)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2010/02">Feb-2010&nbsp;(3)</a></li>
    
    
  
  </ul>

  <h4 ><strong><a href="/shelley100/yearly-archive/2009">2009</a></strong></h4>
  <ul>
  
 
	
			
	

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/12">Dec-2009&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/11">Nov-2009&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/10">Oct-2009&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/09">Sep-2009&nbsp;(2)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/08">Aug-2009&nbsp;(3)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/06">Jun-2009&nbsp;(5)</a></li>
    
    
  
 
	
			
		

    
    <li style="display: inline"><a href="/shelley100/monthly-archive/2009/05">May-2009&nbsp;(1)</a></li>
    
    
  
  </ul>



			</div>	
			
			<div class="col-md-2" id="col-footer-4">
				
<div class="sidebar-sec2">
	<h3 class="sidebar-sec-header"><u><a style="color: red" href="/shelley100/tags">Tags</a></u></h3>
	<ul class="sidebar-sec-items tag-items">
		<span class="site-tag">
			&nbsp;|&nbsp;
		
			
			
    <a href="/shelley100/tag-dir/bangladesh"
        style="font-size: 94%">
            Bangladesh (1)
    </a>&nbsp;|&nbsp;
</span>
		
			
			
    <a href="/shelley100/tag-dir/any"
        style="font-size: 94%">
            any (1)
    </a>&nbsp;|&nbsp;
</span>
		
			
			
    <a href="/shelley100/tag-dir/country"
        style="font-size: 102%">
            country (3)
    </a>&nbsp;|&nbsp;
</span>
		 
	</ul>
</div>

			</div>	
		</div>
</div>		
  
        
        
        <small>
          &copy; <time datetime="2015-04-23T23:58:31+06:00">2015</time>. All rights reserved.
        </small>
      </footer>
    
</div>
</div>  <!-- end of container-fluid -->  
  </body>
</html>
